
# Пояснительная записка

## «Бот-переводчик»

**Автор(ы):** Терновский Иван

---

## Общее описание приложения

### Назначение, функционал

Бот-переводчик — это Telegram-бот, предназначенный для автоматизации перевода проектов, написанных на игровом движке Robust Toolbox (например, Space Station 14). С помощью Git и Google Translate бот клонирует указанный репозиторий, находит и переводит файлы локализации, а затем создает форк на GitHub с уже переведёнными файлами. Основная цель — избавиться от рутинной и трудоёмкой работы по переводу вручную.

### Целевая аудитория

Разработчики, занимающиеся проектами на движке Robust Toolbox, преимущественно из международного сообщества Space Station 14, желающие перевести проект с английского на русский язык или наоборот.

---

## Техническое задание

### 1. Ролевая модель (п.3.2)

| Роль         | Возможности                                                                 |
|--------------|------------------------------------------------------------------------------|
| Пользователь | Вводить ссылку на репозиторий, подтверждать перевод, получать готовый форк. |

### 2. Функциональные требования к публичной части (боту)

| Функция                                      | Подробности                                                                 |
|---------------------------------------------|------------------------------------------------------------------------------|
| Ввод ссылки на GitHub репозиторий           | Пользователь присылает ссылку на проект                                     |
| Анализ репозитория                          | Бот определяет количество файлов локализации                                |
| Подтверждение перевода                      | Пользователь подтверждает необходимость перевода                            |
| Перевод файлов                              | Перевод всех `.ftl` файлов с помощью deep-translator                        |
| Создание форка и загрузка изменений         | Бот создает форк, коммитит изменения и отправляет ссылку пользователю       |
| Уведомления об ошибках                      | В случае ошибок бот отправляет сообщение и продолжает работу корректно      |

### 3. Требования к структуре приложения

#### 3.6.1. Структура публичной части (бота)

| Раздел / подраздел         | Содержимое                                                         | Функциональные требования                                    | Требования к контенту                              |
|----------------------------|--------------------------------------------------------------------|---------------------------------------------------------------|----------------------------------------------------|
| Ввод ссылки                | Сообщение с ссылкой на GitHub                                      | Проверка валидности ссылки                                    | GitHub-репозиторий на Robust Toolbox               |
| Подтверждение перевода     | Список файлов локализации и запрос на подтверждение                | Возможность отмены или продолжения                            | Количество файлов                                 |
| Уведомление о ходе работы  | Сообщения о начале, ходе и завершении перевода                     | Поддержка многошагового диалога                              | Сообщения Telegram                                 |
| Вывод результата           | Ссылка на готовый форк                                             | Генерация форка на GitHub, отправка пользователю              | GitHub fork                                        |
| Обработка ошибок           | Ответ пользователю в случае ошибки                                 | Корректное завершение сеанса и уведомление                    | Текстовые сообщения об ошибках                     |

---

## Используемые технологии

- **Git** — клонирование и создание форков.
- **deep-translator** — взаимодействие с Google Translate API.
- **Fluent** — работа с `.ftl` файлами.
- **Requests** — работа с API GitHub.
- **PyYAML**, **pydash**, **chardet**, **typing_extensions** — парсинг и работа с локализационными файлами.

---

## Варианты развития приложения

- Ускорение работы за счёт использования других API-переводчиков.
- Перевод напрямую в форке без локального скачивания.
- Удаление несущественных этапов (например, промежуточных подтверждений).
- Расширение форматов поддерживаемых файлов.
